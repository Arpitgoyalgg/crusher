/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={8541:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(3490),s=r(9849),i=n(r(5790)),a=r(1008),h=r(6096),u=r(3094);(new(function(){function e(){this.handleBrowserIconClick=this.handleBrowserIconClick.bind(this),this.onTabUpdated=this.onTabUpdated.bind(this),this.onTabRemoved=this.onTabRemoved.bind(this),this.onBeforeRequest=this.onBeforeRequest.bind(this),this.onHeadersReceived=this.onHeadersReceived.bind(this),this.onBeforeSendHeaders=this.onBeforeSendHeaders.bind(this),this.onBeforeNavigation=this.onBeforeNavigation.bind(this),this.onExternalMessage=this.onExternalMessage.bind(this)}return e.prototype.isRegisteredAsCrusherWindow=function(e){var t=o.TabStorage.get(e);return!(!t||!t.details.id)&&o.TabStorage.isExtension(t.details.id)},e.prototype.onTabRemoved=function(e){o.TabStorage.get(e)&&o.TabStorage.remove(e)},e.prototype.onTabUpdated=function(e,t,r){if(r.url&&a.AdvancedURL.checkIfCrusherExtension(r.url)){var n=a.AdvancedURL.getParameterByName("url",r.url),s=a.AdvancedURL.getUserAgentFromUrl(n);o.TabStorage.set(e,r,s?s.value:i.default[0].value)}},e.prototype.onBeforeRequest=function(e){return this.isRegisteredAsCrusherWindow(e.tabId)&&0===e.parentFrameId?(chrome.browsingData.remove({},{serviceWorkers:!0}),{cancel:!1}):{cancel:!1}},e.prototype.onHeadersReceived=function(e){var t=this.isRegisteredAsCrusherWindow(e.tabId),r=e.responseHeaders;if(!r||!t||0!==e.parentFrameId)return{responseHeaders:r};var n=r.filter((function(e){var t=e.name.toLowerCase();return-1===["x-frame-options","content-security-policy","frame-options"].indexOf(t)}));return r.find((function(e){return"location"===e.name.toLowerCase()}))&&chrome.browsingData.remove({},{serviceWorkers:!0}),{responseHeaders:n}},e.prototype.onBeforeSendHeaders=function(e){var t,r=this.isRegisteredAsCrusherWindow(e.tabId),n=e.requestHeaders;if(!r||0!==e.parentFrameId)return{requestHeaders:n};if(!s.FrameStorage.get(e.tabId,e.frameId))return{requestHeaders:e.requestHeaders};var i=o.TabStorage.get(e.tabId).crusherAgent;return null===(t=e.requestHeaders)||void 0===t||t.push({name:"User-Agent",value:i}),{requestHeaders:e.requestHeaders}},e.prototype.onBeforeNavigation=function(e){this.isRegisteredAsCrusherWindow(e.tabId)&&0!==e.frameId&&0===e.parentFrameId&&e.url&&s.FrameStorage.set(e)},e.prototype.onExternalMessage=function(e,t,r){return console.log("Got this message",e),e&&e.message&&"version"==e.message&&r({version:1}),!0},e.prototype.handleBrowserIconClick=function(e){var t=h.getDefaultDeviceFromDeviceType(u.DEVICE_TYPES.DESKTOP),r=h.generateCrusherExtensionUrl(chrome.extension.getURL("/"),e.url,t.id);chrome.tabs.create({url:r})},e.prototype.registerEventListeners=function(){chrome.browserAction.onClicked.addListener(this.handleBrowserIconClick),chrome.tabs.onUpdated.addListener(this.onTabUpdated),chrome.tabs.onRemoved.addListener(this.onTabRemoved),chrome.webRequest.onBeforeRequest.addListener(this.onBeforeRequest,{urls:["<all_urls>"]},["blocking"]),chrome.webRequest.onBeforeSendHeaders.addListener(this.onBeforeSendHeaders,{urls:["<all_urls>"],types:["sub_frame"]},["blocking","requestHeaders"]),chrome.webRequest.onHeadersReceived.addListener(this.onHeadersReceived,{urls:["<all_urls>"],types:["sub_frame","main_frame"]},["blocking","responseHeaders"]),chrome.webNavigation.onBeforeNavigate.addListener(this.onBeforeNavigation),chrome.runtime.onMessageExternal.addListener(this.onExternalMessage)},e.prototype.boot=function(){this.registerEventListeners()},e}())).boot()},4114:function(e,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.getAllSeoMetaInfo=t.DOM=void 0;var o=function(){function e(){}return e.isElement=function(e){return e instanceof Element||e instanceof HTMLDocument},e.removeAllTargetBlankFromLinks=function(){var e,t,r=document.links;for(e=0,t=r.length;e<t;e++)"_blank"==r[e].target&&r[e].removeAttribute("target")},e.disableAllUserEvents=function(e){console.debug("Disabling all user events");for(var t=["contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","keydown","keypress","keyup","blur","change","focus","focusin","focusout","input","invalid","reset","search","select","submit","drag","dragend","dragenter","dragleave","dragover","dragstart","drop","copy","cut","paste","mousewheel","wheel","touchcancel","touchend","touchmove","touchstart"],r=Object.keys(e),n=function(t){return t.stopPropagation(),t.preventDefault(),r.includes(t.type)&&e[t.type](t),!1},o=0,s=t.length;o<s;o++)window.addEventListener(t[o],n,!0);return function(){for(var e=0,r=t.length;e<r;e++)window.removeEventListener(t[e],n,!0)}},e}();t.DOM=o,t.getAllSeoMetaInfo=function(){return n([],document.querySelectorAll("meta")).reduce((function(e,t){var n,o=t&&"function"==typeof t.getAttribute?t.getAttribute("name"):null;return o?r(r({},e),((n={})[o]={name:o,value:t.content},n)):e}),{})}},9849:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameStorage=void 0;var r={},n=function(){function e(){}return e.makeFrameId=function(e,t){return e+"-"+t},e.set=function(e){r[this.makeFrameId(e.tabId,e.frameId)]=e},e.get=function(e,t){return r[this.makeFrameId(e,t)]},e.has=function(e,t){var n=this.makeFrameId(e,t);return r[n]&&null!==r[n]},e}();t.FrameStorage=n},7916:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toPrettyEventName=t.toPascalCase=t.getFrameDepth=t.getDevice=t.getAllAttributes=t.submitPostDataWithForm=t.executeScript=void 0;var s=r(4114),i=o(r(1100));function a(e){var t;if(!e||"string"!=typeof e)return e;var r=null==e?void 0:e.toLowerCase();return(null===(t=r[0])||void 0===t?void 0:t.toUpperCase())+(null==r?void 0:r.substr(1))}t.executeScript=function(e,t,r){return new Promise((function(r,n){chrome.tabs.executeScript(t,{file:"/js/"+e+".js",runAt:"document_end"},(function(){r(!0)}))}))},t.submitPostDataWithForm=function(e,t){void 0===t&&(t={});var r=document.createElement("form");r.method="post",r.action=e,r.target="_blank";for(var n=0,o=Object.keys(t);n<o.length;n++){var s=o[n],i=document.createElement("input");i.type="hidden",i.name=s,i.value=t[s],r.appendChild(i)}document.body.appendChild(r),r.submit(),r.remove()},t.getAllAttributes=function(e){if(!s.DOM.isElement(e))throw new Error("Invalid element provided.");var t=e.getAttributeNames();return n([],t.map((function(t){return{name:t,value:e.getAttribute(t)}})))},t.getDevice=function(e){return i.default.find((function(t){return t.id===e}))},t.getFrameDepth=function e(t){return t===window.top?0:t.parent===window.top?1:1+e(t.parent)},t.toPascalCase=a,t.toPrettyEventName=function(e){return e.split("_").map((function(e){return a(e)})).join(" ")}},3490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabStorage=void 0;var n=r(915),o={},s=function(){function e(){}return e.set=function(e,t,r){o[e]={details:t,crusherAgent:r}},e.get=function(e){return o[e]},e.isExtension=function(e){return!!this.get(e)&&n.isOfCrusherExtension(this.get(e).details.url)},e.remove=function(e){delete o[e]},e}();t.TabStorage=s},1008:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AdvancedURL=void 0;var o=n(r(1100)),s=r(915),i=r(7916),a=n(r(5790)),h=new RegExp(/^(['"])(.*)\1$/),u=function(){function e(){}return e.getScheme=function(e){return String(e).replace(/^\/|\/$/g,"")},e.getParameterByName=function(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},e.addHttpToUrlIfNotThere=function(e){var t=new RegExp(/^https?\:\/\/[\w\._-]+?\.[\w_-]+/i);return e.match(t)?e:"http://"+e},e.checkIfCrusherExtension=function(e){return Boolean(e)&&this.getScheme(e).startsWith(this.getScheme(chrome.runtime.getURL("/")))},e.getUrlFromCrusherExtensionUrl=function(e){var t=s.getQueryStringParams("url",e);if(!t||h.test(t))return null;var r=t.match(h);return new URL(r?r[2]:t).toString()},e.getDeviceFromCrusherExtensionUrl=function(e){var t=s.getQueryStringParams("device",e),r=o.default[8];return t&&i.getDevice(t)||r},e.getUserAgentFromUrl=function(t){var r=e.getParameterByName("__crusherAgent__",t);return a.default.find((function(e){return e.name===(r||a.default[6].value)}))},e}();t.AdvancedURL=u},1100:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{id:"iphoneXRXSMax",name:"iPhone XR, XSMax",width:414,height:896,visible:!0,mobile:!0,userAgent:"iPhone"},{id:"iPhone8Plus87Plus",name:"iPhone 8+, 8, 7+",width:414,height:736,mobile:!0,visible:!1,userAgent:"iPhone"},{id:"iPhone76S6",name:"iPhone 7, 6S, 6",width:375,height:667,mobile:!0,visible:!1,userAgent:"iPhone"},{id:"GalaxyS9PlusS8Plus",name:"Galaxy S9+, S8+",width:412,height:846,visible:!0,mobile:!0,userAgent:"Samsung Phone"},{id:"Pixel33XL",name:"Pixel 3, 3 XL",width:393,height:786,visible:!0,mobile:!0,userAgent:"Google Pixel"},{id:"GoogleChromeNormalScreen",name:"Desktop (1024 * 800)",width:1024,height:800,visible:!0,userAgent:"Google Chrome"},{id:"GoogleChromeMediumScreen",name:"Desktop M (1280 * 800)",width:1280,height:800,visible:!0,userAgent:"Google Chrome"},{id:"GoogleChromeLargeScreenL",name:"Desktop L (1440 * 800)",width:1440,height:800,visible:!0,userAgent:"Google Chrome"},{id:"GoogleChromeLargeScreenXL",name:"Desktop XL (1600 * 800)",width:1600,height:800,visible:!0,userAgent:"Google Chrome"}]},5790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{name:"Google Chrome",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36",appVersion:"Mac OS X 10.14.0",platform:"Mac OS X"},{name:"Mozilla Firefox",value:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.14; rv:66.0) Gecko/20100101 Firefox/66.0",appVersion:"Mac OS X 10.14.0",platform:"Mac OS X"},{name:"Microsoft Edge",value:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.79 Safari/537.36 Edge/14.14393",appVersion:"Windows 10 0.0.0",platform:"Windows 10"},{name:"iPhone",value:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",appVersion:"iOS 10.3.1",platform:"iOS"},{name:"iPad",value:"Mozilla/5.0 (iPad; CPU OS 8_4_1 like Mac OS X) AppleWebKit/600.1.4 (KHTML, like Gecko) Version/8.0 Mobile/12H321 Safari/600.1.4",appVersion:"iOS 8.4.1",platform:"iOS"},{name:"Samsung Phone",value:"Mozilla/5.0 (Linux; Android 6.0.1; SAMSUNG SM-G570Y Build/MMB29K) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/4.0 Chrome/44.0.2403.133 Mobile Safari/537.36",appVersion:"Android 6.0.1",platform:"Android"},{name:"Google Pixel",value:"Mozilla/5.0 (Linux; Android 7.1.1; Pixel Build/NOF27B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.132 Mobile Safari/537.36",appVersion:"Android 8.0.0",platform:"Android"}]},3094:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DEVICE_TYPES=void 0,(r=t.DEVICE_TYPES||(t.DEVICE_TYPES={})).DESKTOP="DESKTOP",r.MOBILE="MOBILE"},6096:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultDeviceFromDeviceType=t.generateCrusherExtensionUrl=void 0;var a=i(r(1100)),h=s(r(1023)),u=r(3094);t.generateCrusherExtensionUrl=function(e,t,r,n){void 0===n&&(n={});var o=new URL(t),s=a.default.find((function(e){return e.id===r}));o.searchParams.set("__crusherAgent__",encodeURI(s.userAgent));var i=Object.keys(n).reduce((function(e,t,r){return"&"+t+"="+n[t]}),"");return h.join(e,"test_recorder.html")+"?url="+o+"&device="+r+i},t.getDefaultDeviceFromDeviceType=function(e){return e===u.DEVICE_TYPES.DESKTOP?a.default[6]:e===u.DEVICE_TYPES.MOBILE?a.default[5]:null}},915:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveToBackendPath=t.getQueryStringParams=t.addHttpToURLIfNotThere=t.origins=t.isOfCrusherExtension=t.isLocal=void 0;var o=n(r(4846)),s=r(883),i=function(e){return String(e).replace(/^\/|\/$/g,"")};t.isLocal=function(e){return String(e).startsWith("chrome://")||String(e).startsWith("chrome-extension://")},t.isOfCrusherExtension=function(e){return Boolean(e)&&i(e).startsWith(i(chrome.runtime.getURL("/")))},t.origins=function(e){var t=o.default(e).hostname;return["https://"+t,"http://"+t]},t.addHttpToURLIfNotThere=function(e){var t=new RegExp(/^https?\:\/\/[\w\._-]+?\.[\w_-]+/i);return e.match(t)?e:"http://"+e},t.getQueryStringParams=function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},t.resolveToBackendPath=function(e,t){void 0===t&&(t=null);var r=t||"https://backend.crusher.dev/";return s.resolve(r,e)}},1023:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",o=0,s=-1,i=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(s===a-1||1===i);else if(s!==a-1&&2===i){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var h=n.lastIndexOf("/");if(h!==n.length-1){-1===h?(n="",o=0):o=(n=n.slice(0,h)).length-1-n.lastIndexOf("/"),s=a,i=0;continue}}else if(2===n.length||1===n.length){n="",o=0,s=a,i=0;continue}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),o=a-s-1;s=a,i=0}else 46===r&&-1!==i?++i:i=-1}return n}var n={resolve:function(){for(var e,n="",o=!1,s=arguments.length-1;s>=-1&&!o;s--){var i;s>=0?i=arguments[s]:(void 0===e&&(e=process.cwd()),i=e),t(i),0!==i.length&&(n=i+"/"+n,o=47===i.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&o&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var o=arguments[r];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var s=e.length,i=s-o,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var h=r.length-a,u=i<h?i:h,l=-1,c=0;c<=u;++c){if(c===u){if(h>u){if(47===r.charCodeAt(a+c))return r.slice(a+c+1);if(0===c)return r.slice(a+c)}else i>u&&(47===e.charCodeAt(o+c)?l=c:0===c&&(l=0));break}var f=e.charCodeAt(o+c);if(f!==r.charCodeAt(a+c))break;47===f&&(l=c)}var p="";for(c=o+l+1;c<=s;++c)c!==s&&47!==e.charCodeAt(c)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(a+l):(a+=l,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,o=-1,s=!0,i=e.length-1;i>=1;--i)if(47===(r=e.charCodeAt(i))){if(!s){o=i;break}}else s=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,o=0,s=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,h=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!i){o=n+1;break}}else-1===h&&(i=!1,h=n+1),a>=0&&(u===r.charCodeAt(a)?-1==--a&&(s=n):(a=-1,s=h))}return o===s?s=h:-1===s&&(s=e.length),e.slice(o,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){o=n+1;break}}else-1===s&&(i=!1,s=n+1);return-1===s?"":e.slice(o,s)},extname:function(e){t(e);for(var r=-1,n=0,o=-1,s=!0,i=0,a=e.length-1;a>=0;--a){var h=e.charCodeAt(a);if(47!==h)-1===o&&(s=!1,o=a+1),46===h?-1===r?r=a:1!==i&&(i=1):-1!==r&&(i=-1);else if(!s){n=a+1;break}}return-1===r||-1===o||0===i||1===i&&r===o-1&&r===n+1?"":e.slice(r,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,o=e.charCodeAt(0),s=47===o;s?(r.root="/",n=1):n=0;for(var i=-1,a=0,h=-1,u=!0,l=e.length-1,c=0;l>=n;--l)if(47!==(o=e.charCodeAt(l)))-1===h&&(u=!1,h=l+1),46===o?-1===i?i=l:1!==c&&(c=1):-1!==i&&(c=-1);else if(!u){a=l+1;break}return-1===i||-1===h||0===c||1===c&&i===h-1&&i===a+1?-1!==h&&(r.base=r.name=0===a&&s?e.slice(1,h):e.slice(a,h)):(0===a&&s?(r.name=e.slice(1,i),r.base=e.slice(1,h)):(r.name=e.slice(a,i),r.base=e.slice(a,h)),r.ext=e.slice(i,h)),a>0?r.dir=e.slice(0,a-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},2808:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,r,n,o){r=r||"&",n=n||"=";var s={};if("string"!=typeof e||0===e.length)return s;var i=/\+/g;e=e.split(r);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var h=e.length;a>0&&h>a&&(h=a);for(var u=0;u<h;++u){var l,c,f,p,d=e[u].replace(i,"%20"),m=d.indexOf(n);m>=0?(l=d.substr(0,m),c=d.substr(m+1)):(l=d,c=""),f=decodeURIComponent(l),p=decodeURIComponent(c),t(s,f)?Array.isArray(s[f])?s[f].push(p):s[f]=[s[f],p]:s[f]=p}return s}},1368:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,r,n,o){return r=r||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var s=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return s+encodeURIComponent(t(e))})).join(r):s+encodeURIComponent(t(e[o]))})).join(r):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},6642:(e,t,r)=>{"use strict";t.decode=t.parse=r(2808),t.encode=t.stringify=r(1368)},7375:(e,t)=>{"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function o(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,s,i=[];for(s in"string"!=typeof t&&(t="?"),e)if(r.call(e,s)){if((n=e[s])||null!=n&&!isNaN(n)||(n=""),s=o(s),n=o(n),null===s||null===n)continue;i.push(s+"="+n)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,o={};t=r.exec(e);){var s=n(t[1]),i=n(t[2]);null===s||null===i||s in o||(o[s]=i)}return o}},7245:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},4846:(e,t,r)=>{"use strict";var n=r(7245),o=r(7375),s=/^[A-Za-z][A-Za-z0-9+-.]*:[\\/]+/,i=/^([a-z][a-z0-9.+-]*:)?([\\/]{1,})?([\S\s]*)/i,a=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function h(e){return(e||"").toString().replace(a,"")}var u=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(e){var t,n=("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(e=e||n);if("blob:"===e.protocol)o=new p(unescape(e.pathname),{});else if("string"===i)for(t in o=new p(e,{}),l)delete o[t];else if("object"===i){for(t in e)t in l||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=s.test(e.href))}return o}function f(e){e=h(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!(t[2]&&t[2].length>=2),rest:t[2]&&1===t[2].length?"/"+t[3]:t[3]}}function p(e,t,r){if(e=h(e),!(this instanceof p))return new p(e,t,r);var s,i,a,l,d,m,g=u.slice(),v=typeof t,b=this,y=0;for("object"!==v&&"string"!==v&&(r=t,t=null),r&&"function"!=typeof r&&(r=o.parse),t=c(t),s=!(i=f(e||"")).protocol&&!i.slashes,b.slashes=i.slashes||s&&t.slashes,b.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(g[3]=[/(.*)/,"pathname"]);y<g.length;y++)"function"!=typeof(l=g[y])?(a=l[0],m=l[1],a!=a?b[m]=e:"string"==typeof a?~(d=e.indexOf(a))&&("number"==typeof l[2]?(b[m]=e.slice(0,d),e=e.slice(d+l[2])):(b[m]=e.slice(d),e=e.slice(0,d))):(d=a.exec(e))&&(b[m]=d[1],e=e.slice(0,d.index)),b[m]=b[m]||s&&l[3]&&t[m]||"",l[4]&&(b[m]=b[m].toLowerCase())):e=l(e);r&&(b.query=r(b.query)),s&&t.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==t.pathname)&&(b.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),n=r.length,o=r[n-1],s=!1,i=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),i++):i&&(0===n&&(s=!0),r.splice(n,1),i--);return s&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(b.pathname,t.pathname)),"/"!==b.pathname.charAt(0)&&b.hostname&&(b.pathname="/"+b.pathname),n(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(l=b.auth.split(":"),b.username=l[0]||"",b.password=l[1]||""),b.origin=b.protocol&&b.host&&"file:"!==b.protocol?b.protocol+"//"+b.host:"null",b.href=b.toString()}p.prototype={set:function(e,t,r){var s=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||o.parse)(t)),s[e]=t;break;case"port":s[e]=t,n(t,s.protocol)?t&&(s.host=s.hostname+":"+t):(s.host=s.hostname,s[e]="");break;case"hostname":s[e]=t,s.port&&(t+=":"+s.port),s.host=t;break;case"host":s[e]=t,/:\d+$/.test(t)?(t=t.split(":"),s.port=t.pop(),s.hostname=t.join(":")):(s.hostname=t,s.port="");break;case"protocol":s.protocol=t.toLowerCase(),s.slashes=!r;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";s[e]=t.charAt(0)!==i?i+t:t}else s[e]=t;break;default:s[e]=t}for(var a=0;a<u.length;a++){var h=u[a];h[4]&&(s[h[1]]=s[h[1]].toLowerCase())}return s.origin=s.protocol&&s.host&&"file:"!==s.protocol?s.protocol+"//"+s.host:"null",s.href=s.toString(),s},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,r=this,n=r.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var s=n+(r.slashes?"//":"");return r.username&&(s+=r.username,r.password&&(s+=":"+r.password),s+="@"),s+=r.host+r.pathname,(t="object"==typeof r.query?e(r.query):r.query)&&(s+="?"!==t.charAt(0)?"?"+t:t),r.hash&&(s+=r.hash),s}},p.extractProtocol=f,p.location=c,p.trimLeft=h,p.qs=o,e.exports=p},9639:function(e,t,r){var n;e=r.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var s="object"==typeof r.g&&r.g;s.global!==s&&s.window!==s&&s.self;var i,a=2147483647,h=36,u=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function m(e){throw RangeError(f[e])}function g(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function v(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+g((e=e.replace(c,".")).split("."),t).join(".")}function b(e){for(var t,r,n=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function y(e){return g(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function A(e,t,r){var n=0;for(e=r?p(e/700):e>>1,e+=p(e/t);e>455;n+=h)e=p(e/35);return p(n+36*e/(e+38))}function x(e){var t,r,n,o,s,i,u,l,c,f,d,g=[],v=e.length,b=0,w=128,x=72;for((r=e.lastIndexOf("-"))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&m("not-basic"),g.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(s=b,i=1,u=h;o>=v&&m("invalid-input"),((l=(d=e.charCodeAt(o++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:h)>=h||l>p((a-b)/i))&&m("overflow"),b+=l*i,!(l<(c=u<=x?1:u>=x+26?26:u-x));u+=h)i>p(a/(f=h-c))&&m("overflow"),i*=f;x=A(b-s,t=g.length+1,0==s),p(b/t)>a-w&&m("overflow"),w+=p(b/t),b%=t,g.splice(b++,0,w)}return y(g)}function C(e){var t,r,n,o,s,i,u,l,c,f,g,v,y,x,C,S=[];for(v=(e=b(e)).length,t=128,r=0,s=72,i=0;i<v;++i)(g=e[i])<128&&S.push(d(g));for(n=o=S.length,o&&S.push("-");n<v;){for(u=a,i=0;i<v;++i)(g=e[i])>=t&&g<u&&(u=g);for(u-t>p((a-r)/(y=n+1))&&m("overflow"),r+=(u-t)*y,t=u,i=0;i<v;++i)if((g=e[i])<t&&++r>a&&m("overflow"),g==t){for(l=r,c=h;!(l<(f=c<=s?1:c>=s+26?26:c-s));c+=h)C=l-f,x=h-f,S.push(d(w(f+C%x,0))),l=p(C/x);S.push(d(w(l,0))),s=A(r,y,n==o),r=0,++n}++r,++t}return S.join("")}i={version:"1.3.2",ucs2:{decode:b,encode:y},decode:x,encode:C,toASCII:function(e){return v(e,(function(e){return l.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return v(e,(function(e){return u.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},883:(e,t,r)=>{"use strict";var n=r(9639),o=r(5225);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){return o.isString(e)&&(e=y(e)),e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),c=["%","/","?",";","#"].concat(l),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=r(6642);function y(e,t,r){if(e&&o.isObject(e)&&e instanceof s)return e;var n=new s;return n.parse(e,t,r),n}s.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",u=e.split(a);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(a);if(y=y.trim(),!r&&1===e.split("#").length){var w=h.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var A=i.exec(y);if(A){var x=(A=A[0]).toLowerCase();this.protocol=x,y=y.substr(A.length)}if(r||A||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===y.substr(0,2);!C||A&&g[A]||(y=y.substr(2),this.slashes=!0)}if(!g[A]&&(C||A&&!v[A])){for(var S,_,O=-1,E=0;E<f.length;E++)-1!==(P=y.indexOf(f[E]))&&(-1===O||P<O)&&(O=P);for(-1!==(_=-1===O?y.lastIndexOf("@"):y.lastIndexOf("@",O))&&(S=y.slice(0,_),y=y.slice(_+1),this.auth=decodeURIComponent(S)),O=-1,E=0;E<c.length;E++){var P;-1!==(P=y.indexOf(c[E]))&&(-1===O||P<O)&&(O=P)}-1===O&&(O=y.length),this.host=y.slice(0,O),y=y.slice(O),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var j=this.hostname.split(/\./),M=(E=0,j.length);E<M;E++){var I=j[E];if(I&&!I.match(p)){for(var R="",L=0,T=I.length;L<T;L++)I.charCodeAt(L)>127?R+="x":R+=I[L];if(!R.match(p)){var U=j.slice(0,E),D=j.slice(E+1),q=I.match(d);q&&(U.push(q[1]),D.unshift(q[2])),D.length&&(y="/"+D.join(".")+y),this.hostname=U.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[x])for(E=0,M=l.length;E<M;E++){var H=l[E];if(-1!==y.indexOf(H)){var N=encodeURIComponent(H);N===H&&(N=escape(H)),y=y.split(H).join(N)}}var G=y.indexOf("#");-1!==G&&(this.hash=y.substr(G),y=y.slice(0,G));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),v[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var K=this.search||"";this.path=F+K}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=!1,i="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(i=b.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==s?(s="//"+(s||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):s||(s=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},s.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(o.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var r=new s,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var h=Object.keys(e),u=0;u<h.length;u++){var l=h[u];"protocol"!==l&&(r[l]=e[l])}return v[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!v[e.protocol]){for(var c=Object.keys(e),f=0;f<c.length;f++){var p=c[f];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||g[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var m=r.pathname||"",b=r.search||"";r.path=m+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var y=r.pathname&&"/"===r.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),A=w||y||r.host&&e.pathname,x=A,C=r.pathname&&r.pathname.split("/")||[],S=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!v[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===C[0]?C[0]=r.host:C.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),A=A&&(""===d[0]||""===C[0])),w)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,C=d;else if(d.length)C||(C=[]),C.pop(),C=C.concat(d),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search))return S&&(r.hostname=r.host=C.shift(),(k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=k.shift(),r.host=r.hostname=k.shift())),r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!C.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var _=C.slice(-1)[0],O=(r.host||e.host||C.length>1)&&("."===_||".."===_)||""===_,E=0,P=C.length;P>=0;P--)"."===(_=C[P])?C.splice(P,1):".."===_?(C.splice(P,1),E++):E&&(C.splice(P,1),E--);if(!A&&!x)for(;E--;E)C.unshift("..");!A||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),O&&"/"!==C.join("/").substr(-1)&&C.push("");var k,j=""===C[0]||C[0]&&"/"===C[0].charAt(0);return S&&(r.hostname=r.host=j?"":C.length?C.shift():"",(k=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=k.shift(),r.host=r.hostname=k.shift())),(A=A||r.host&&C.length)&&!j&&C.unshift(""),C.length?r.pathname=C.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},5225:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(8541)})();
//# sourceMappingURL=background.js.map